meta:
  version: 1
  description: "GovBudgetChecker 最小回归样例：模板 / 正确 / 典型错误"
  rules_file: "rules/v3_3.yaml"

samples:
  - id: template-national-2024
    type: template
    file: samples/templates/附件2：部门决算模板.pdf
    expect:
      structure_check:
        must_have_tables:
          - "收入支出决算总表"
          - "财政拨款收支决算总表"
          - "一般公共预算财政拨款支出决算明细表"
          - "一般公共预算财政拨款基本支出决算表"
          - "政府性基金预算财政拨款支出决算表"
          - "国有资本经营预算财政拨款支出决算表"
          - "“三公”经费支出决算表"
          - "机关运行经费支出决算表"
          - "政府采购情况表"
        min_tables: 9
      rules_should_not_trigger: [ "GJ-001", "TB-003" ]

  - id: shanghai-2024-good
    type: good
    file: samples/good/上海市普陀区财政局2024年度部门决算.pdf
    expect:
      rules_should_not_trigger: [ "GJ-001", "TB-003" ]
      must_find_tables: [ "收入支出决算总表", "财政拨款收支决算总表" ]

  - id: shanghai-2024-missing-tables
    type: bad
    file: samples/bad/中共上海市普陀区委社会工作部 2024 年度部门决算.pdf
    expect:
      rules_should_trigger:
        - id: "ZB-002"
          missing_tables:
            - "财政拨款收支决算总表"
            - "一般公共预算财政拨款支出决算明细表"
          hint: "示例用于验证缺表告警逻辑"
