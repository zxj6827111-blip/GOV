# GovBudgetChecker AIç‰ˆæœ¬ - å¿«é€Ÿå¯åŠ¨æŒ‡å—

## ğŸš€ ä¸€é”®å¯åŠ¨æ‰€æœ‰æœåŠ¡

### æ–¹æ³•1: ä½¿ç”¨PowerShellè„šæœ¬ (æ¨è)

åˆ›å»º `start_all_services.ps1`:

```powershell
# GovBudgetChecker AIç‰ˆæœ¬ - ä¸€é”®å¯åŠ¨è„šæœ¬
Write-Host "ğŸš€ å¯åŠ¨ GovBudgetChecker AIç‰ˆæœ¬..." -ForegroundColor Green

# æ£€æŸ¥å½“å‰ç›®å½•
$currentDir = Get-Location
Write-Host "ğŸ“ å½“å‰ç›®å½•: $currentDir" -ForegroundColor Yellow

# 1. å¯åŠ¨AIæŠ½å–å™¨æœåŠ¡ (åå°)
Write-Host "ğŸ¤– å¯åŠ¨AIæŠ½å–å™¨æœåŠ¡..." -ForegroundColor Cyan
Start-Process -FilePath "python" -ArgumentList "ai_extractor_service_v2.py" -WindowStyle Minimized

# ç­‰å¾…2ç§’
Start-Sleep -Seconds 2

# 2. å¯åŠ¨åç«¯APIæœåŠ¡ (åå°)
Write-Host "ğŸ”§ å¯åŠ¨åç«¯APIæœåŠ¡..." -ForegroundColor Cyan
Start-Process -FilePath "python" -ArgumentList "-m", "uvicorn", "api.main:app", "--host", "0.0.0.0", "--port", "8000", "--reload" -WindowStyle Minimized

# ç­‰å¾…3ç§’
Start-Sleep -Seconds 3

# 3. å¯åŠ¨å‰ç«¯æœåŠ¡ (åå°)
Write-Host "ğŸ“± å¯åŠ¨å‰ç«¯æœåŠ¡..." -ForegroundColor Cyan
Start-Process -FilePath "cmd" -ArgumentList "/c", "cd app && npm run dev" -WindowStyle Minimized

# ç­‰å¾…5ç§’è®©æœåŠ¡å¯åŠ¨
Write-Host "â³ ç­‰å¾…æœåŠ¡å¯åŠ¨..." -ForegroundColor Yellow
Start-Sleep -Seconds 5

# 4. æ£€æŸ¥æœåŠ¡çŠ¶æ€
Write-Host "ğŸ” æ£€æŸ¥æœåŠ¡çŠ¶æ€..." -ForegroundColor Green

try {
    $backendHealth = Invoke-RestMethod -Uri "http://localhost:8000/health" -Method Get -TimeoutSec 5
    Write-Host "âœ… åç«¯API: æ­£å¸¸ (ç‰ˆæœ¬: $($backendHealth.version))" -ForegroundColor Green
} catch {
    Write-Host "âŒ åç«¯API: å¼‚å¸¸" -ForegroundColor Red
}

try {
    $aiHealth = Invoke-RestMethod -Uri "http://localhost:9009/health" -Method Get -TimeoutSec 10
    Write-Host "âœ… AIæœåŠ¡: æ­£å¸¸ (æ¨¡å‹æ•°: $($aiHealth.ai_client.available_models))" -ForegroundColor Green
} catch {
    Write-Host "âŒ AIæœåŠ¡: å¼‚å¸¸ (å¯èƒ½ä»åœ¨å¯åŠ¨ä¸­)" -ForegroundColor Yellow
}

# 5. æ‰“å¼€æµè§ˆå™¨
Write-Host "ğŸŒ æ‰“å¼€æµè§ˆå™¨..." -ForegroundColor Cyan
Start-Process "http://localhost:3000"

Write-Host "ğŸ‰ å¯åŠ¨å®Œæˆ!" -ForegroundColor Green
Write-Host "ğŸ“± å‰ç«¯åœ°å€: http://localhost:3000" -ForegroundColor White
Write-Host "ğŸ”§ åç«¯API: http://localhost:8000" -ForegroundColor White
Write-Host "ğŸ¤– AIæœåŠ¡: http://localhost:9009" -ForegroundColor White
```

### æ–¹æ³•2: æ‰‹åŠ¨å¯åŠ¨ (åˆ†æ­¥éª¤)

#### æ­¥éª¤1: å¯åŠ¨AIæŠ½å–å™¨æœåŠ¡
```bash
python ai_extractor_service_v2.py
```
**é¢„æœŸè¾“å‡º**: 
- AIæœåŠ¡å¯åŠ¨åœ¨ç«¯å£9009
- 4ä¸ªAIæ¨¡å‹åŠ è½½å®Œæˆ
- å¥åº·æ£€æŸ¥é€šè¿‡

#### æ­¥éª¤2: å¯åŠ¨åç«¯APIæœåŠ¡
```bash
python -m uvicorn api.main:app --host 0.0.0.0 --port 8000 --reload
```
**é¢„æœŸè¾“å‡º**:
- FastAPIæœåŠ¡å¯åŠ¨åœ¨ç«¯å£8000
- è‡ªåŠ¨é‡è½½æ¨¡å¼å¯ç”¨
- APIæ–‡æ¡£å¯è®¿é—®

#### æ­¥éª¤3: å¯åŠ¨å‰ç«¯æœåŠ¡
```bash
cd app
npm run dev
```
**é¢„æœŸè¾“å‡º**:
- Next.jså¼€å‘æœåŠ¡å™¨å¯åŠ¨
- ç¼–è¯‘å®Œæˆï¼Œæ— é”™è¯¯
- å¯åœ¨æµè§ˆå™¨è®¿é—®

## ğŸ” æœåŠ¡éªŒè¯

### å¥åº·æ£€æŸ¥å‘½ä»¤
```powershell
# åç«¯APIå¥åº·æ£€æŸ¥
Invoke-RestMethod -Uri "http://localhost:8000/health" -Method Get

# AIæœåŠ¡å¥åº·æ£€æŸ¥ (å¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´)
Invoke-RestMethod -Uri "http://localhost:9009/health" -Method Get -TimeoutSec 15

# é…ç½®æ£€æŸ¥
Invoke-RestMethod -Uri "http://localhost:8000/config" -Method Get
```

### é¢„æœŸå“åº”
```json
// åç«¯APIå¥åº·æ£€æŸ¥
{
  "status": "ok",
  "service": "GovBudgetChecker API",
  "version": "2.0.0",
  "timestamp": 1758712102.998286
}

// AIæœåŠ¡å¥åº·æ£€æŸ¥
{
  "status": "healthy",
  "ai_client": {
    "healthy": true,
    "available_models": 4,
    "tested_models": [],
    "timestamp": 1758711321.6163464
  },
  "version": "2.0.0"
}

// é…ç½®æ£€æŸ¥
{
  "ai_enabled": true,
  "ai_extractor_url": "http://127.0.0.1:9009"
}
```

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

#### 1. AIæœåŠ¡å¯åŠ¨æ…¢æˆ–è¶…æ—¶
**åŸå› **: AIæ¨¡å‹åŠ è½½éœ€è¦æ—¶é—´ï¼Œé¦–æ¬¡è°ƒç”¨å¯èƒ½éœ€è¦10-30ç§’
**è§£å†³æ–¹æ¡ˆ**: 
- å¢åŠ è¶…æ—¶æ—¶é—´åˆ°15-20ç§’
- ç­‰å¾…AIæ¨¡å‹å®Œå…¨åŠ è½½åå†æµ‹è¯•
- æ£€æŸ¥.envæ–‡ä»¶ä¸­çš„APIå¯†é’¥æ˜¯å¦æ­£ç¡®

#### 2. ç«¯å£å ç”¨é”™è¯¯
**æ£€æŸ¥ç«¯å£å ç”¨**:
```powershell
netstat -ano | findstr :3000
netstat -ano | findstr :8000  
netstat -ano | findstr :9009
```
**è§£å†³æ–¹æ¡ˆ**: ç»ˆæ­¢å ç”¨è¿›ç¨‹æˆ–æ›´æ”¹ç«¯å£

#### 3. å‰ç«¯ç¼–è¯‘é”™è¯¯
**å¸¸è§åŸå› **: ä¾èµ–åŒ…æœªå®‰è£…æˆ–ç‰ˆæœ¬ä¸å…¼å®¹
**è§£å†³æ–¹æ¡ˆ**:
```bash
cd app
npm install
npm run build  # æ£€æŸ¥ç¼–è¯‘é”™è¯¯
```

#### 4. åç«¯APIå¯¼å…¥é”™è¯¯
**æ£€æŸ¥Pythonç¯å¢ƒ**:
```bash
python --version  # ç¡®ä¿Python 3.8+
pip list | grep fastapi  # æ£€æŸ¥ä¾èµ–åŒ…
```

## ğŸ“Š æ€§èƒ½ç›‘æ§

### è¿›ç¨‹ç›‘æ§
```powershell
# æŸ¥çœ‹æ‰€æœ‰ç›¸å…³è¿›ç¨‹
Get-Process | Where-Object {$_.ProcessName -match "python|node|uvicorn"} | Select-Object ProcessName, Id, CPU, WorkingSet

# ç›‘æ§CPUä½¿ç”¨ç‡
while($true) {
    Get-Process | Where-Object {$_.ProcessName -match "python|node"} | Select-Object ProcessName, CPU
    Start-Sleep -Seconds 5
}
```

### å†…å­˜ä½¿ç”¨ç›‘æ§
```powershell
# æŸ¥çœ‹å†…å­˜ä½¿ç”¨
Get-Process | Where-Object {$_.ProcessName -match "python|node"} | Select-Object ProcessName, @{Name="Memory(MB)";Expression={[math]::Round($_.WorkingSet/1MB,2)}}
```

## ğŸ§ª å®Œæ•´æµç¨‹æµ‹è¯•

### è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬
```bash
python test_complete_flow.py
```

### æ‰‹åŠ¨æµ‹è¯•æ­¥éª¤
1. **è®¿é—®å‰ç«¯**: http://localhost:3000
2. **ä¸Šä¼ PDFæ–‡ä»¶**: é€‰æ‹©`samples/bad/`ä¸­çš„æ–‡ä»¶
3. **å¯åŠ¨åˆ†æ**: é€‰æ‹©åŒæ¨¡å¼åˆ†æ
4. **æŸ¥çœ‹ç»“æœ**: ç­‰å¾…åˆ†æå®Œæˆï¼ŒæŸ¥çœ‹æ£€æµ‹ç»“æœ

### æµ‹è¯•æ–‡ä»¶æ¨è
- **é—®é¢˜æ–‡ä»¶**: `samples/bad/ä¸Šæµ·å¸‚æ™®é™€åŒºè§„åˆ’å’Œè‡ªç„¶èµ„æºå±€ 2024 å¹´åº¦éƒ¨é—¨å†³ç®—.pdf`
- **æ­£å¸¸æ–‡ä»¶**: `samples/good/ä¸Šæµ·å¸‚æ™®é™€åŒºè´¢æ”¿å±€2024å¹´åº¦éƒ¨é—¨å†³ç®—.pdf`
- **æ¨¡æ¿æ–‡ä»¶**: `samples/templates/é™„ä»¶2ï¼šéƒ¨é—¨å†³ç®—æ¨¡æ¿.pdf`

## ğŸ¯ å¼€å‘æ¨¡å¼ vs ç”Ÿäº§æ¨¡å¼

### å¼€å‘æ¨¡å¼ (å½“å‰)
- **è‡ªåŠ¨é‡è½½**: ä»£ç å˜æ›´è‡ªåŠ¨é‡å¯
- **è¯¦ç»†æ—¥å¿—**: å®Œæ•´çš„è°ƒè¯•ä¿¡æ¯
- **çƒ­æ›´æ–°**: å‰ç«¯ä»£ç å®æ—¶æ›´æ–°

### ç”Ÿäº§æ¨¡å¼ (éƒ¨ç½²æ—¶)
```bash
# åç«¯ç”Ÿäº§å¯åŠ¨
python -m uvicorn api.main:app --host 0.0.0.0 --port 8000 --workers 4

# å‰ç«¯ç”Ÿäº§æ„å»º
cd app
npm run build
npm start
```

## ğŸ“‹ ç¯å¢ƒè¦æ±‚æ£€æŸ¥æ¸…å•

### å¿…éœ€è½¯ä»¶
- [ ] Python 3.8+ å·²å®‰è£…
- [ ] Node.js 16+ å·²å®‰è£…
- [ ] npm æˆ– yarn å·²å®‰è£…
- [ ] Git å·²å®‰è£… (å¯é€‰)

### å¿…éœ€æ–‡ä»¶
- [ ] `.env` æ–‡ä»¶å­˜åœ¨ä¸”é…ç½®å®Œæ•´
- [ ] `app/package.json` ä¾èµ–å·²å®‰è£…
- [ ] Pythonä¾èµ–åŒ…å·²å®‰è£…

### ç½‘ç»œè¦æ±‚
- [ ] å¯è®¿é—®AIæ¨¡å‹API (GLMã€DeepSeek)
- [ ] æœ¬åœ°ç«¯å£3000ã€8000ã€9009å¯ç”¨
- [ ] é˜²ç«å¢™å…è®¸æœ¬åœ°æœåŠ¡é€šä¿¡

---

**å¿«é€Ÿå¯åŠ¨å®Œæˆåï¼Œç³»ç»Ÿå°†åœ¨ä»¥ä¸‹åœ°å€å¯ç”¨**:
- ğŸŒ **ç”¨æˆ·ç•Œé¢**: http://localhost:3000
- ğŸ”§ **APIæ–‡æ¡£**: http://localhost:8000/docs  
- ğŸ¤– **AIæœåŠ¡**: http://localhost:9009/health
- ğŸ“Š **ç³»ç»ŸçŠ¶æ€**: http://localhost:8000/health